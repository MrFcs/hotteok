<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Hotteok Street Food ‚Äî –∫–æ—Ä–µ–π—Å–∫–∏–π —Å—Ç—Ä–∏—Ç—Ñ—É–¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Hotteok Street Food ‚Äî –∫–æ—Ä–µ–π—Å–∫–∏–µ —Å–ª–∞–¥–∫–∏–µ –ª–µ–ø—ë—à–∫–∏ –∏ —Å—Ç—Ä–∏—Ç—Ñ—É–¥." />
  <style>
    :root {
      --bg: #050507;
      --card-bg: rgba(15, 15, 20, 0.96);
      --accent-soft: rgba(255, 156, 59, 0.16);
      --text-main: #f7f7f7;
      --text-secondary: #a0a0a8;
      --border-soft: rgba(255, 255, 255, 0.06);
      --radius-xl: 24px;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.7);
      --accent: #ffb03b;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, sans-serif;
      background:
        radial-gradient(circle at top, #1f1b2e 0, transparent 55%),
        radial-gradient(circle at bottom, #402019 0, transparent 55%),
        var(--bg);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 18px 10px 32px;
    }

    .page {
      width: 100%;
      max-width: 480px;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .card-main {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 20px 18px 18px;
      border: 1px solid var(--border-soft);
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(18px);
    }

    .profile {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
      text-align: center;
    }

    .avatar {
      width: 64px;
      height: 64px;
      border-radius: 999px;
      border: 2px solid var(--accent-soft);
      overflow: hidden;
      background: #1a1a1d;
      box-shadow: 0 0 0 4px rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-text h1 {
      font-size: 20px;
      font-weight: 700;
    }

    .profile-text p {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .btn-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 4px;
    }

    .btn {
      width: 100%;
      border-radius: 999px;
      padding: 13px 16px;
      border: 1px solid transparent;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      transition:
        transform 0.18s ease,
        box-shadow 0.18s ease,
        filter 0.18s ease,
        border-color 0.18s ease,
        background 0.18s ease;
      -webkit-tap-highlight-color: transparent;
      background: linear-gradient(135deg, #ffb03b, #ff7a3b);
      color: #1b1007;
      box-shadow: 0 10px 26px rgba(255, 145, 59, 0.45);
      border-color: rgba(255, 193, 120, 0.9);
      font: inherit;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 32px rgba(0, 0, 0, 0.65);
      filter: brightness(1.03);
    }

    .btn:active {
      transform: scale(0.97);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
      filter: brightness(0.98);
    }

    .btn-icon { font-size: 16px; line-height: 0; }

    .btn-text {
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 0.01em;
      white-space: nowrap;
    }

    .card-contact {
      background: rgba(0,0,0,0.4);
      border-radius: var(--radius-xl);
      padding: 14px;
      border: 1px solid var(--border-soft);
    }

    .contact-line {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 4px;
    }

    .contact-line strong { color: var(--text-main); }

    .map-wrapper {
      margin-top: 10px;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
    }

    .map-wrapper iframe {
      width: 100%;
      height: 220px;
      border: 0;
    }

    /* --- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∫–æ—Ä–∑–∏–Ω–æ–π --- */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.65);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 16px;
    }

    .modal-backdrop.modal-open { display: flex; }

    .modal {
      width: 100%;
      max-width: 520px;
      background: rgba(15, 15, 20, 0.98);
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 24px 60px rgba(0,0,0,0.8);
      padding: 14px;
      transform: translateY(8px);
      opacity: 0;
      transition: opacity 0.18s ease, transform 0.18s ease;
    }

    .modal-backdrop.modal-open .modal {
      opacity: 1;
      transform: translateY(0);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .modal-title {
      font-size: 15px;
      font-weight: 700;
      flex: 1;
      text-align: center;
    }

    .modal-close {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.4);
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      line-height: 0;
      transition: background 0.15s ease, transform 0.1s ease;
    }

    .modal-close:hover {
      background: rgba(255,255,255,0.08);
      transform: translateY(-1px);
    }

    .order-card {
      border-radius: 16px;
      border: 1px solid var(--border-soft);
      padding: 10px 12px 12px;
      background: rgba(255,255,255,0.02);
      margin-top: 4px;
    }

    /* –î–≤–µ –∫–æ–ª–æ–Ω–∫–∏ */

    .order-layout {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .order-left,
    .order-right { width: 100%; }

    @media (min-width: 640px) {
      .order-layout {
        flex-direction: row;
        align-items: flex-start;
      }
      .order-left,
      .order-right { flex: 1; }
    }

    /* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ */

    .cart-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
      margin-bottom: 8px;
    }

    .cart-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
    }

    .cart-item-left {
      display: flex;
      align-items: center;
      gap: 8px;
      max-width: 70%;
    }

    .cart-item-thumb {
      width: 46px;
      height: 46px;
      border-radius: 12px;
      overflow: hidden;
      flex-shrink: 0;
      border: 1px solid rgba(255,255,255,0.08);
      background: #111;
    }

    .cart-item-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .cart-item-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .cart-item-title { font-size: 13px; }

    .cart-item-price {
      font-size: 12px;
      color: var(--text-secondary);
    }

    .cart-controls {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .cart-qty-btn {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.4);
      color: var(--text-main);
      font-size: 16px;
      line-height: 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.15s ease, transform 0.1s ease;
    }

    .cart-qty-btn:hover {
      background: rgba(255,255,255,0.08);
      transform: translateY(-1px);
    }

    .cart-qty-btn:active { transform: scale(0.95); }

    .cart-qty {
      min-width: 18px;
      text-align: center;
      font-size: 13px;
    }

    .cart-empty {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 4px;
      text-align: center;
    }

    .cart-summary {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      margin-top: 6px;
      padding-top: 6px;
      border-top: 1px dashed rgba(255,255,255,0.12);
    }

    .cart-summary span:last-child { font-weight: 600; }

    /* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ */

    .order-form {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 4px;
      width: 100%;
    }

    .order-form-row {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 13px;
      align-items: center;
      text-align: center;
      width: 100%;
    }

    .order-form-row label {
      color: var(--text-secondary);
      font-size: 12px;
      width: 100%;
    }

    .order-form-row .inline-fields {
      display: flex;
      justify-content: center;
      gap: 8px;
      width: 100%;
      flex-wrap: wrap;
    }

    .order-form-row input,
    .order-form-row textarea {
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 10px;
      padding: 8px 10px;
      color: var(--text-main);
      font-size: 13px;
      outline: none;
      width: 100%;
      text-align: left;
    }

    .order-form-row input:focus,
    .order-form-row textarea:focus {
      border-color: rgba(255,255,255,0.3);
    }

    .order-form-row textarea {
      min-height: 60px;
      resize: vertical;
    }

    .order-form-footer {
      display: flex;
      justify-content: center;
      margin-top: 6px;
    }

    .radio-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.5);
      font-size: 12px;
      color: var(--text-main);
      cursor: pointer;
      user-select: none;
      transition: background 0.15s ease, border-color 0.15s ease;
    }

    .radio-pill.small {
      padding: 4px 8px;
      font-size: 11px;
    }

    .radio-pill input {
      accent-color: var(--accent);
      width: 14px;
      height: 14px;
    }

    .radio-pill.active {
      background: rgba(255,176,59,0.2);
      border-color: rgba(255,176,59,0.8);
    }

    /* –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: –±–ª–æ–∫ –¥–∞—Ç–∞+–≤—Ä–µ–º—è */

    .time-toggle-row { justify-content: center; }

    .time-input-row {
      margin-top: 8px;
      width: 100%;
      display: none; /* –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS */
      gap: 8px;
      flex-wrap: wrap;
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(10,10,15,0.95);
      border: 1px solid rgba(255,255,255,0.12);
    }

    .time-input-col {
      flex: 1 1 140px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      position: relative; /* —á—Ç–æ–±—ã popup –≤—Ä–µ–º–µ–Ω–∏ –±—ã–ª –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–≤–æ–µ–º—É –±–ª–æ–∫—É */
    }

    .time-label {
      font-size: 11px;
      color: var(--text-secondary);
      text-align: left;
    }

    .time-input-wrapper {
      position: relative;
      border-radius: 12px;
      background: rgba(0,0,0,0.75);
      border: 1px solid rgba(255,255,255,0.22);
      padding: 7px 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 38px;
      cursor: pointer;          /* –∫–ª–∏–∫–∞–µ—Ç—Å—è –≤–µ–∑–¥–µ */
    }

    .time-chevron {
      margin-left: 6px;
      font-size: 10px;
      color: var(--text-secondary);
      pointer-events: none;
    }

    /* –î–∞—Ç–∞: popup */

    .time-input-col.date-col { position: relative; }

    .date-display-text {
      font-size: 13px;
      color: var(--text-main);
    }

    .date-display-text.empty {
      color: var(--text-secondary);
      opacity: 0.8;
    }

    .date-popup {
      position: absolute;
      left: 0;
      right: 0;
      top: 56px;
      background: #060608;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.16);
      padding: 10px 10px 8px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.85);
      z-index: 20;
      display: none;
    }

    .date-popup.open { display: block; }

    .date-popup-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 6px;
      font-size: 13px;
      font-weight: 600;
    }

    .date-title { color: var(--text-main); }

    .date-nav-btn {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.6);
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      cursor: pointer;
      padding: 0;
    }

    .date-popup-weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 2px;
      margin-bottom: 4px;
      font-size: 11px;
      color: var(--text-secondary);
      text-align: center;
    }

    .date-popup-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
      font-size: 12px;
    }

    .date-day {
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      cursor: pointer;
      color: var(--text-main);
    }

    .date-day.other-month { opacity: 0.25; }

    .date-day.today {
      border: 1px solid rgba(255,255,255,0.28);
    }

    .date-day.selected {
      background: var(--accent);
      color: #1b1007;
      font-weight: 600;
    }

    .date-day:hover {
      background: rgba(255,255,255,0.08);
    }

    /* –í—Ä–µ–º—è: popup */

    .time-popup {
      position: absolute;
      left: 0;
      right: 0;
      top: 56px;
      background: #060608;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.16);
      padding: 6px 6px 6px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.85);
      z-index: 20;
      display: none;
      max-height: 210px;
      overflow-y: auto;
    }

    .time-popup.open { display: block; }

    .time-popup-list {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 13px;
    }

    .time-item {
      padding: 6px 10px;
      border-radius: 10px;
      cursor: pointer;
      color: var(--text-main);
    }

    .time-item:hover {
      background: rgba(255,255,255,0.08);
    }

    .time-item.selected {
      background: var(--accent);
      color: #1b1007;
      font-weight: 600;
    }

    .time-display-text {
      font-size: 13px;
      color: var(--text-main);
    }

    .time-display-text.empty {
      color: var(--text-secondary);
      opacity: 0.8;
    }

    @media (min-width: 520px) {
      body { padding-top: 40px; }
      .card-main { padding: 22px 22px 18px; }
    }
  </style>
</head>
<body>
  <main class="page">

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ -->
    <section class="card-main">
      <header class="profile">
        <div class="avatar">
          <img src="logo.png" alt="Hotteok Street Food" />
        </div>
        <div class="profile-text">
          <h1>Hotteok Street Food</h1>
          <p>–ö–æ—Ä–µ–π—Å–∫–∏–µ —Å–ª–∞–¥–∫–∏–µ –ª–µ–ø—ë—à–∫–∏ –∏ —Å—Ç—Ä–∏—Ç—Ñ—É–¥</p>
        </div>
      </header>
<!-- 2. –ú–ï–ù–Æ -->
      <div class="btn-list">
        <a class="btn" href="#menu" id="open-cart-modal">
          <span class="btn-icon">üìã</span>
          <span class="btn-text">–ú–µ–Ω—é</span>
        </a>
      </div>

      <!-- 3. –°–î–ï–õ–ê–¢–¨ –ó–ê–ö–ê–ó –í TELEGRAM -->
      <div class="btn-list">
        <a class="btn" href="https://t.me/mrfcs_bot" target="_blank">
          <span class="btn-icon">üî•</span>
          <span class="btn-text">–°–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram</span>
        </a>
      </div>

      <!-- 4. –ü–û–ó–í–û–ù–ò–¢–¨ -->
      <div class="btn-list">
        <a class="btn" href="tel:2222">
          <span class="btn-icon">üìû</span>
          <span class="btn-text">–ü–æ–∑–≤–æ–Ω–∏—Ç—å –∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</span>
        </a>
      </div>
    </section>
<!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã + –∫–∞—Ä—Ç–∞ -->
    <section class="card-contact">
      <p class="contact-line"><strong>–ê–¥—Ä–µ—Å:</strong> —É–ª. –î–µ–∫–∞–±—Ä–∏—Å—Ç–æ–≤, 104/8</p>
      <p class="contact-line"><strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</strong> –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 10:00 –¥–æ 22:00</p>

      <div class="map-wrapper">
        <iframe
          src="https://yandex.ru/map-widget/v1/?text=%D1%83%D0%BB.%20%D0%94%D0%B5%D0%BA%D0%B0%D0%B1%D1%80%D0%B8%D1%81%D1%82%D0%BE%D0%B2%2C%20104%2F8&z=16&lang=ru_RU"
          loading="lazy"
          allowfullscreen
        ></iframe>
      </div>
    </section>

  </main>

  <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ö–û–†–ó–ò–ù–´ -->
  <div class="modal-backdrop" id="cart-modal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="cart-modal-title">
      <div class="modal-header">
        <div class="modal-title" id="cart-modal-title">–ú–µ–Ω—é –∏ –∑–∞–∫–∞–∑</div>
        <button class="modal-close" id="close-cart-modal" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>

      <div class="order-card">
        <div class="order-layout">
          <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
          <div class="order-left">
            <div class="cart-list" id="cart-list">
              <div class="cart-item" data-item-id="hotteok-sweet" data-price="270">
                <div class="cart-item-left">
                  <div class="cart-item-thumb">
                    <img src="img/hotteok-sweet.jpg" alt="–•–æ—Ç—Ç–æ–∫ —Å –∫–æ—Ä–∏—Ü–µ–π –∏ –æ—Ä–µ—Ö–∞–º–∏" />
                  </div>
                  <div class="cart-item-text">
                    <span class="cart-item-title">–•–æ—Ç—Ç–æ–∫ —Å –∫–æ—Ä–∏—Ü–µ–π –∏ –æ—Ä–µ—Ö–∞–º–∏</span>
                    <span class="cart-item-price">270 ‚ÇΩ</span>
                  </div>
                </div>
                <div class="cart-controls">
                  <button type="button" class="cart-qty-btn" data-action="dec">‚àí</button>
                  <span class="cart-qty">0</span>
                  <button type="button" class="cart-qty-btn" data-action="inc">+</button>
                </div>
              </div>

              <div class="cart-item" data-item-id="hotteok-cheese" data-price="310">
                <div class="cart-item-left">
                  <div class="cart-item-thumb">
                    <img src="img/hotteok-cheese.jpg" alt="–•–æ—Ç—Ç–æ–∫ —Å —Å—ã—Ä–æ–º –∏ –∫–∏–º—á–∏" />
                  </div>
                  <div class="cart-item-text">
                    <span class="cart-item-title">–•–æ—Ç—Ç–æ–∫ —Å —Å—ã—Ä–æ–º –∏ –∫–∏–º—á–∏</span>
                    <span class="cart-item-price">310 ‚ÇΩ</span>
                  </div>
                </div>
                <div class="cart-controls">
                  <button type="button" class="cart-qty-btn" data-action="dec">‚àí</button>
                  <span class="cart-qty">0</span>
                  <button type="button" class="cart-qty-btn" data-action="inc">+</button>
                </div>
              </div>

              <div class="cart-item" data-item-id="corn-dog" data-price="330">
                <div class="cart-item-left">
                  <div class="cart-item-thumb">
                    <img src="img/corn-dog.jpg" alt="–ö–æ—Ä–µ–π—Å–∫–∏–π –∫—É–∫—É—Ä—É–∑–Ω—ã–π –¥–æ–≥" />
                  </div>
                  <div class="cart-item-text">
                    <span class="cart-item-title">–ö–æ—Ä–µ–π—Å–∫–∏–π –∫—É–∫—É—Ä—É–∑–Ω—ã–π –¥–æ–≥</span>
                    <span class="cart-item-price">330 ‚ÇΩ</span>
                  </div>
                </div>
                <div class="cart-controls">
                  <button type="button" class="cart-qty-btn" data-action="dec">‚àí</button>
                  <span class="cart-qty">0</span>
                  <button type="button" class="cart-qty-btn" data-action="inc">+</button>
                </div>
              </div>
            </div>

            <p class="cart-empty" id="cart-empty-text">
              –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ ‚Äî –¥–æ–±–∞–≤—å—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å üëÜ
            </p>

            <div class="cart-summary">
              <span>–ò—Ç–æ–≥–æ:</span>
              <span id="cart-total">0 ‚ÇΩ</span>
            </div>
          </div>

          <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
          <div class="order-right">
            <form id="cart-order-form" class="order-form">
              <div class="order-form-row">
                <label>–¢–∏–ø –∑–∞–∫–∞–∑–∞</label>
                <div class="inline-fields">
                  <label class="radio-pill active">
                    <input type="radio" name="delivery_type" value="delivery" checked />
                    –î–æ—Å—Ç–∞–≤–∫–∞
                  </label>
                  <label class="radio-pill">
                    <input type="radio" name="delivery_type" value="pickup" />
                    –°–∞–º–æ–≤—ã–≤–æ–∑
                  </label>
                </div>
              </div>

              <div class="order-form-row">
                <label for="cart-name">–ò–º—è</label>
                <input id="cart-name" name="name" type="text" placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?" required />
              </div>

              <div class="order-form-row">
                <label for="cart-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input id="cart-phone" name="phone" type="tel" placeholder="+7..." required />
              </div>

              <div class="order-form-row delivery-only" id="row-address">
                <label for="cart-address">–ê–¥—Ä–µ—Å</label>
                <textarea id="cart-address" name="address" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –ø–æ–¥—ä–µ–∑–¥, —ç—Ç–∞–∂, –∫–≤–∞—Ä—Ç–∏—Ä–∞"></textarea>
              </div>

              <div class="order-form-row delivery-only" id="row-time">
                <label>–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                <div class="inline-fields time-toggle-row">
                  <label class="radio-pill small active">
                    <input type="radio" name="delivery_time_type" value="asap" checked />
                    –ë–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è
                  </label>
                  <label class="radio-pill small">
                    <input type="radio" name="delivery_time_type" value="scheduled" />
                    –ö–æ –≤—Ä–µ–º–µ–Ω–∏
                  </label>
                </div>

                <!-- –±–ª–æ–∫ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ -->
                <div class="time-input-row" id="time-input-row">
                  <div class="time-input-col date-col">
                    <span class="time-label">–î–∞—Ç–∞</span>
                    <div class="time-input-wrapper" id="date-display">
                      <span id="cart-delivery-date-display" class="date-display-text empty">
                        –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É
                      </span>
                      <span class="time-chevron">‚ñæ</span>
                    </div>
                    <div class="date-popup" id="date-popup">
                      <div class="date-popup-header">
                        <button type="button" class="date-nav-btn" id="date-prev">‚Äπ</button>
                        <span class="date-title" id="date-title"></span>
                        <button type="button" class="date-nav-btn" id="date-next">‚Ä∫</button>
                      </div>
                      <div class="date-popup-weekdays">
                        <span>–ü–Ω</span><span>–í—Ç</span><span>–°—Ä</span><span>–ß—Ç</span><span>–ü—Ç</span><span>–°–±</span><span>–í—Å</span>
                      </div>
                      <div class="date-popup-grid" id="date-grid"></div>
                    </div>
                    <input type="hidden" id="cart-delivery-date" name="delivery_date" />
                  </div>

                  <div class="time-input-col">
                    <span class="time-label">–í—Ä–µ–º—è</span>
                    <div class="time-input-wrapper" id="time-display">
                      <span id="cart-delivery-time-display" class="time-display-text empty">
                        –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è
                      </span>
                      <span class="time-chevron">‚ñæ</span>
                    </div>
                    <div class="time-popup" id="time-popup">
                      <div class="time-popup-list" id="time-list"></div>
                    </div>
                    <input type="hidden" id="cart-delivery-time" name="delivery_time" />
                  </div>
                </div>
              </div>

              <div class="order-form-row">
                <label for="cart-comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label>
                <textarea id="cart-comment" name="comment" placeholder="–ü–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –∑–∞–∫–∞–∑—É..."></textarea>
              </div>

              <div class="order-form-footer">
                <button type="submit" class="btn" style="max-width: 260px;">
                  <span class="btn-text">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // –ú–æ–¥–∞–ª–∫–∞
    (function setupModal() {
      const openBtn = document.getElementById('open-cart-modal');
      const closeBtn = document.getElementById('close-cart-modal');
      const backdrop = document.getElementById('cart-modal');

      function openModal(e) {
        e.preventDefault();
        backdrop.classList.add('modal-open');
        document.body.style.overflow = 'hidden';
      }
      function closeModal() {
        backdrop.classList.remove('modal-open');
        document.body.style.overflow = '';
      }

      openBtn.addEventListener('click', openModal);
      closeBtn.addEventListener('click', closeModal);
      backdrop.addEventListener('click', (e) => {
        if (e.target === backdrop) closeModal();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal();
      });
    })();

    // –ö–æ—Ä–∑–∏–Ω–∞, –¥–æ—Å—Ç–∞–≤–∫–∞, –¥–∞—Ç–∞/–≤—Ä–µ–º—è
    (function setupCart() {
      const cartList = document.getElementById('cart-list');
      const totalEl = document.getElementById('cart-total');
      const emptyText = document.getElementById('cart-empty-text');

      const deliveryRadios = document.querySelectorAll('input[name="delivery_type"]');
      const radioPills = document.querySelectorAll('.order-right .radio-pill:not(.small)');
      const rowAddress = document.getElementById('row-address');
      const rowTime = document.getElementById('row-time');

      const timeTypeRadios = document.querySelectorAll('input[name="delivery_time_type"]');
      const timePills = document.querySelectorAll('#row-time .radio-pill');
      const timeInputRow = document.getElementById('time-input-row');

      // –î–∞—Ç–∞
      const dateInput = document.getElementById('cart-delivery-date');
      const dateDisplay = document.getElementById('cart-delivery-date-display');
      const dateWrapper = document.getElementById('date-display');
      const datePopup = document.getElementById('date-popup');
      const dateTitle = document.getElementById('date-title');
      const datePrev = document.getElementById('date-prev');
      const dateNext = document.getElementById('date-next');
      const dateGrid = document.getElementById('date-grid');

      // –í—Ä–µ–º—è
      const timeInput = document.getElementById('cart-delivery-time');
      const timeDisplay = document.getElementById('cart-delivery-time-display');
      const timeWrapper = document.getElementById('time-display');
      const timePopup = document.getElementById('time-popup');
      const timeList = document.getElementById('time-list');

      const monthNames = [
        '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
        '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'
      ];

      let currentMonth = (new Date()).getMonth();
      let currentYear = (new Date()).getFullYear();

      function recalcTotal() {
        let total = 0;
        let hasItems = false;

        cartList.querySelectorAll('.cart-item').forEach(item => {
          const price = Number(item.getAttribute('data-price')) || 0;
          const qtyEl = item.querySelector('.cart-qty');
          const qty = Number(qtyEl.textContent) || 0;
          if (qty > 0) {
            hasItems = true;
            total += price * qty;
          }
        });

        totalEl.textContent = total + ' ‚ÇΩ';
        emptyText.style.display = hasItems ? 'none' : 'block';
      }

      cartList.addEventListener('click', function (e) {
        const btn = e.target.closest('.cart-qty-btn');
        if (!btn) return;

        const item = btn.closest('.cart-item');
        const qtyEl = item.querySelector('.cart-qty');
        let qty = Number(qtyEl.textContent) || 0;
        const action = btn.getAttribute('data-action');

        if (action === 'inc') qty++;
        if (action === 'dec') qty = Math.max(0, qty - 1);

        qtyEl.textContent = qty;
        recalcTotal();
      });

      // –î–æ—Å—Ç–∞–≤–∫–∞ / —Å–∞–º–æ–≤—ã–≤–æ–∑
      function updateDeliveryFields() {
        let type = 'delivery';
        deliveryRadios.forEach(r => { if (r.checked) type = r.value; });

        radioPills.forEach(pill => {
          const input = pill.querySelector('input');
          pill.classList.toggle('active', input.checked);
        });

        if (type === 'delivery') {
          rowAddress.style.display = '';
          rowTime.style.display = '';
        } else {
          rowAddress.style.display = 'none';
          rowTime.style.display = 'none';
        }
      }
      deliveryRadios.forEach(radio => {
        radio.addEventListener('change', updateDeliveryFields);
      });

      // –í—Ä–µ–º—è: —Å–ø–∏—Å–æ–∫ 10:00‚Äì21:45
      function buildTimeList() {
        timeList.innerHTML = '';
        for (let h = 10; h <= 21; h++) {
          for (let m of [0, 15, 30, 45]) {
            const hh = String(h).padStart(2, '0');
            const mm = String(m).padStart(2, '0');
            const val = `${hh}:${mm}`;
            const item = document.createElement('div');
            item.className = 'time-item';
            item.textContent = val;
            item.dataset.value = val;

            item.addEventListener('click', () => {
              timeInput.value = val;
              timeDisplay.textContent = val;
              timeDisplay.classList.remove('empty');
              timePopup.classList.remove('open');

              // –æ—Ç–º–µ—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π
              timeList.querySelectorAll('.time-item').forEach(el => {
                el.classList.toggle('selected', el.dataset.value === val);
              });
            });

            timeList.appendChild(item);
          }
        }
      }

      // –î–∞—Ç–∞
      function setDateValue(dateObj) {
        const yyyy = dateObj.getFullYear();
        const mm = String(dateObj.getMonth() + 1).padStart(2, '0');
        const dd = String(dateObj.getDate()).padStart(2, '0');
        const iso = `${yyyy}-${mm}-${dd}`;
        dateInput.value = iso;
        dateDisplay.textContent = `${dd}.${mm}.${yyyy}`;
        dateDisplay.classList.remove('empty');
      }

      function formatISOtoDisplay(iso) {
        if (!iso) return '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É';
        const [y, m, d] = iso.split('-');
        return `${d}.${m}.${y}`;
      }

      function renderCalendar() {
        dateTitle.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        dateGrid.innerHTML = '';

        const firstDay = new Date(currentYear, currentMonth, 1);
        let startWeekday = firstDay.getDay();
        startWeekday = (startWeekday + 6) % 7; // –ü–Ω=0

        const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
        const prevMonthDays = new Date(currentYear, currentMonth, 0).getDate();

        const today = new Date();
        const todayISO = today.toISOString().slice(0,10);
        const selectedISO = dateInput.value || '';

        const totalCells = Math.ceil((startWeekday + daysInMonth) / 7) * 7;

        for (let i = 0; i < totalCells; i++) {
          const cell = document.createElement('div');
          cell.className = 'date-day';

          let dayNum;
          let cellMonth = currentMonth;
          let cellYear = currentYear;
          let isOther = false;

          if (i < startWeekday) {
            dayNum = prevMonthDays - startWeekday + 1 + i;
            isOther = true;
            if (currentMonth === 0) { cellMonth = 11; cellYear = currentYear - 1; }
            else { cellMonth = currentMonth - 1; }
          } else if (i >= startWeekday + daysInMonth) {
            dayNum = i - (startWeekday + daysInMonth) + 1;
            isOther = true;
            if (currentMonth === 11) { cellMonth = 0; cellYear = currentYear + 1; }
            else { cellMonth = currentMonth + 1; }
          } else {
            dayNum = i - startWeekday + 1;
          }

          const yyyy = cellYear;
          const mm = String(cellMonth + 1).padStart(2, '0');
          const dd = String(dayNum).padStart(2, '0');
          const iso = `${yyyy}-${mm}-${dd}`;

          cell.textContent = dayNum;

          if (isOther) cell.classList.add('other-month');
          if (iso === todayISO) cell.classList.add('today');
          if (iso === selectedISO) cell.classList.add('selected');

          cell.addEventListener('click', () => {
            currentMonth = cellMonth;
            currentYear = cellYear;
            dateInput.value = iso;
            dateDisplay.textContent = formatISOtoDisplay(iso);
            dateDisplay.classList.remove('empty');
            datePopup.classList.remove('open');
          });

          dateGrid.appendChild(cell);
        }
      }

      function openDatePopup() {
        datePopup.classList.add('open');
        renderCalendar();
      }
      function closeDatePopup() {
        datePopup.classList.remove('open');
      }

      function openTimePopup() {
        timePopup.classList.add('open');
      }
      function closeTimePopup() {
        timePopup.classList.remove('open');
      }

      dateWrapper.addEventListener('click', (e) => {
        e.stopPropagation();
        if (datePopup.classList.contains('open')) closeDatePopup();
        else {
          closeTimePopup();
          openDatePopup();
        }
      });

      datePrev.addEventListener('click', (e) => {
        e.stopPropagation();
        if (currentMonth === 0) { currentMonth = 11; currentYear--; }
        else currentMonth--;
        renderCalendar();
      });

      dateNext.addEventListener('click', (e) => {
        e.stopPropagation();
        if (currentMonth === 11) { currentMonth = 0; currentYear++; }
        else currentMonth++;
        renderCalendar();
      });

      timeWrapper.addEventListener('click', (e) => {
        e.stopPropagation();
        if (timePopup.classList.contains('open')) closeTimePopup();
        else {
          closeDatePopup();
          openTimePopup();
        }
      });

      document.addEventListener('click', (e) => {
        if (!datePopup.contains(e.target) && e.target !== dateWrapper) {
          closeDatePopup();
        }
        if (!timePopup.contains(e.target) && e.target !== timeWrapper) {
          closeTimePopup();
        }
      });

      // –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: asap / scheduled
      function updateTimeFields() {
        let type = 'asap';
        timeTypeRadios.forEach(r => { if (r.checked) type = r.value; });

        timePills.forEach(pill => {
          const input = pill.querySelector('input[name="delivery_time_type"]');
          pill.classList.toggle('active', input.checked);
        });

        if (type === 'scheduled' && rowTime.style.display !== 'none') {
          timeInputRow.style.display = 'flex';

          // –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞—Ç—ã ‚Äî —Å—Ç–∞–≤–∏–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é
          if (!dateInput.value) {
            const today = new Date();
            setDateValue(today);
          } else {
            dateDisplay.textContent = formatISOtoDisplay(dateInput.value);
            dateDisplay.classList.remove('empty');
          }

          // –µ—Å–ª–∏ –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤–æ–µ
          if (!timeInput.value && timeList.firstChild) {
            const first = timeList.firstChild;
            timeInput.value = first.dataset.value;
            timeDisplay.textContent = first.dataset.value;
            timeDisplay.classList.remove('empty');
            timeList.querySelectorAll('.time-item').forEach(el => {
              el.classList.toggle('selected', el === first);
            });
          }
        } else {
          timeInputRow.style.display = 'none';
          dateInput.value = '';
          dateDisplay.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É';
          dateDisplay.classList.add('empty');
          timeInput.value = '';
          timeDisplay.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è';
          timeDisplay.classList.add('empty');
          closeDatePopup();
          closeTimePopup();
        }
      }

      timeTypeRadios.forEach(radio => {
        radio.addEventListener('change', updateTimeFields);
      });

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      buildTimeList();
      updateDeliveryFields();
      updateTimeFields();
      recalcTotal();

      // –°–∞–±–º–∏—Ç
      document.getElementById('cart-order-form').addEventListener('submit', function (e) {
        e.preventDefault();

        const items = [];
        cartList.querySelectorAll('.cart-item').forEach(item => {
          const title = item.querySelector('.cart-item-title').textContent.trim();
          const price = Number(item.getAttribute('data-price')) || 0;
          const qty = Number(item.querySelector('.cart-qty').textContent) || 0;
          if (qty > 0) items.push({ title, price, qty });
        });

        if (items.length === 0) {
          alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é –≤ –∫–æ—Ä–∑–∏–Ω—É.');
          return;
        }

        let deliveryType = 'delivery';
        deliveryRadios.forEach(r => { if (r.checked) deliveryType = r.value; });

        let timeType = 'asap';
        timeTypeRadios.forEach(r => { if (r.checked) timeType = r.value; });

        const orderData = {
          type: deliveryType,
          timeType,
          name: document.getElementById('cart-name').value.trim(),
          phone: document.getElementById('cart-phone').value.trim(),
          address: deliveryType === 'delivery'
            ? document.getElementById('cart-address').value.trim()
            : '',
          deliveryDate: (deliveryType === 'delivery' && timeType === 'scheduled')
            ? dateInput.value
            : '',
          deliveryTime: (deliveryType === 'delivery' && timeType === 'scheduled')
            ? timeInput.value
            : '',
          comment: document.getElementById('cart-comment').value.trim(),
          items
        };

        console.log('–ó–ê–ö–ê–ó (–ø–æ–∫–∞ –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä):', orderData);
        alert('–ó–∞–∫–∞–∑ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω. –°–µ–π—á–∞—Å –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ ‚Äî –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –≤ –±–æ—Ç–∞ –∏–ª–∏ –Ω–∞ backend.');

        this.reset();
        cartList.querySelectorAll('.cart-qty').forEach(el => el.textContent = '0');
        updateDeliveryFields();
        updateTimeFields();
        recalcTotal();
      });
    })();
  </script>
</body>
</html>
